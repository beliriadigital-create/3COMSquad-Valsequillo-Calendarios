<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3COM Squad Valsequillo - Calendarios</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #b01c68; --dark: #4a1033; }
        body { 
            font-family: 'Inter', sans-serif; margin: 0; padding: 20px; color: white;
            background: #4a1033 url('fondo.png') no-repeat center center fixed; 
            background-size: cover; min-height: 100vh;
        }
        body::before { content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); z-index: -1; }
        .header { text-align: center; margin-bottom: 30px; }
        .logo { max-width: 150px; margin-bottom: 10px; }
        h1 { font-weight: 900; text-transform: uppercase; font-size: 1.8rem; margin: 10px 0; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }
        .grid { display: grid; gap: 15px; max-width: 600px; margin: 0 auto; }
        .card { 
            background: rgba(255, 255, 255, 0.95); color: #1a1a1a; border-radius: 15px; 
            padding: 20px; text-decoration: none; display: block;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2); border-bottom: 6px solid var(--primary);
            transition: transform 0.2s; text-align: center;
        }
        .card:active { transform: scale(0.98); }
        .card-title { font-weight: 800; font-size: 1.2rem; color: var(--dark); display: block; }
        .card-sub { font-size: 0.9rem; color: #666; margin-top: 5px; display: block; }
    </style>
</head>
<body>
    <div class="header">
        <img src="logo.png" class="logo" alt="Logo">
        <h1>Calendarios Oficiales</h1>
    </div>
    <div id="menu" class="grid">
        <!-- Los botones se cargarán aquí automáticamente -->
    </div>

    <script>
        async function cargarMenu() {
            const menu = document.getElementById('menu');
            try {
                // Forzamos la carga del JSON fresco
                const res = await fetch('categories.json?v=' + Date.now());
                const categorias = await res.json();
                
                categorias.forEach(cat => {
                    const a = document.createElement('a');
                    a.href = './' + cat.slug + '/';
                    a.className = 'card';
                    a.innerHTML = `
                        <span class="card-title">${cat.name}</span>
                        <span class="card-sub">Ver próximos partidos y resultados</span>
                    `;
                    menu.appendChild(a);
                });
            } catch (e) {
                menu.innerHTML = '<div class="card"><span class="card-title">Error al cargar categorías</span></div>';
                console.error(e);
            }
        }
        cargarMenu();
    </script>
</body>
</html>
