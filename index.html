<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>3COM Squad Valsequillo</title>
    <style>
        body { font-family: sans-serif; background: #2b0f18; color: white; padding: 15px; }
        .logo { text-align: center; margin-bottom: 20px; }
        .logo img { max-width: 150px; }
        .categoria-titulo { background: #7b1c3a; padding: 10px; border-radius: 8px 8px 0 0; margin-top: 30px; font-size: 16px; text-transform: uppercase; }
        .contenedor-partidos { background: rgba(255,255,255,0.1); padding: 10px; border-radius: 0 0 8px 8px; margin-bottom: 20px; }
        .tarjeta { background: white; color: black; margin-bottom: 15px; border-radius: 10px; padding: 0; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .fecha-arriba { background: #f0f0f0; padding: 8px; font-size: 13px; font-weight: bold; color: #666; border-bottom: 1px solid #ddd; }
        .cuerpo-tarjeta { padding: 15px; text-align: center; }
        .equipos { font-size: 17px; font-weight: bold; margin-bottom: 10px; }
        .resultado { background: #7b1c3a; color: white; padding: 5px 15px; border-radius: 5px; font-size: 20px; font-weight: bold; display: inline-block; }
        /* EL PABELLON ABAJO FORZADO */
        .pabellon-abajo { background: #fff; padding: 10px; border-top: 2px solid #eee; color: #8b6a7a; font-size: 13px; font-weight: 600; }
        .no-partidos { padding: 20px; text-align: center; opacity: 0.5; }
    </style>
</head>
<body>
    <div class="logo"><img src="logo.png"></div>
    <div id="app"></div>

    <script>
        const cats = [
            { n: "Liga Territorial Femenina", s: "TF" },
            { n: "Juvenil Femenino", s: "JUVF" },
            { n: "Cadete Femenino", s: "CADF" },
            { n: "Infantil Femenino", s: "INFF" }
        ];
        const app = document.getElementById('app');

        cats.forEach(c => {
            const html = `
                <div class="categoria-titulo">${c.n}</div>
                <div class="contenedor-partidos" id="lista-${c.s}"><div class="no-partidos">Cargando...</div></div>
            `;
            app.insertAdjacentHTML('beforeend', html);

            fetch(`${c.s}/partidos.json?v=${Date.now()}`)
                .then(r => r.json())
                .then(data => {
                    const lista = document.getElementById(`lista-${c.s}`);
                    lista.innerHTML = '';
                    if (!data.matches || data.matches.length === 0) {
                        lista.innerHTML = '<div class="no-partidos">No hay partidos pr√≥ximos.</div>';
                        return;
                    }
                    data.matches.forEach(m => {
                        const card = `
                            <div class="tarjeta">
                                <div class="fecha-arriba">üìÖ ${m.fecha_texto}</div>
                                <div class="cuerpo-tarjeta">
                                    <div class="equipos">${m.local} <br><small style="color:#999;font-weight:normal">vs</small><br> ${m.visitante}</div>
                                    ${m.resultado && m.resultado !== '-' ? `<div class="resultado">${m.resultado}</div>` : ''}
                                </div>
                                <div class="pabellon-abajo">üìç ${m.lugar || 'Pabell√≥n por confirmar'}</div>
                            </div>
                        `;
                        lista.insertAdjacentHTML('beforeend', card);
                    });
                })
                .catch(() => {
                    document.getElementById(`lista-${c.s}`).innerHTML = '<div class="no-partidos">Sin datos.</div>';
                });
        });
    </script>
</body>
</html>
